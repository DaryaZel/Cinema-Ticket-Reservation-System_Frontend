(this["webpackJsonpcinema-ticket-reservation-system"]=this["webpackJsonpcinema-ticket-reservation-system"]||[]).push([[0],[,,,,,,,,,,,,,function(A,e,t){},function(A,e,t){},,,,,,,function(A,e,t){},,,,,,,,function(A,e,t){},function(A,e,t){},function(A,e,t){},function(A,e,t){},function(A,e,t){},function(A,e,t){},function(A,e,t){},function(A,e,t){},function(A,e,t){},function(A,e,t){},function(A,e,t){},function(A,e,t){},function(A,e,t){},function(A,e,t){},function(A,e,t){},function(A,e,t){},function(A,e,t){},function(A,e,t){},function(A,e,t){},function(A,e,t){},function(A,e,t){},function(A,e,t){"use strict";t.r(e);var n=t(1),a=t.n(n),c=t(15),s=t.n(c),i=t(6),r=(t(21),t(3)),o=t.n(r),l=t(5),u=t(2);function d(A,e,t){return j.apply(this,arguments)}function j(){return(j=Object(l.a)(o.a.mark((function A(e,t,n){var a,c;return o.a.wrap((function(A){for(;;)switch(A.prev=A.next){case 0:if(!(e.status>=500&&e.status<600)){A.next=4;break}throw new Error("Oops, something went wrong");case 4:if(!(e.status>=400&&e.status<500)){A.next=11;break}return A.next=7,e.json();case 7:a=A.sent,t(a),A.next=15;break;case 11:return A.next=13,e.json();case 13:c=A.sent,n(c);case 15:case"end":return A.stop()}}),A)})))).apply(this,arguments)}var m=t(4),h=(t(23),t(16)),b=t.n(h),O=t.p+"static/media/close.2ddbcf1b.png",p=t(0);function g(A){var e=A.changeSelectedDay,t=Object(n.useState)([]),a=Object(u.a)(t,2),c=a[0],s=a[1],i=Object(n.useRef)(null);return Object(n.useEffect)((function(){function A(){return(A=Object(l.a)(o.a.mark((function A(){return o.a.wrap((function(A){for(;;)switch(A.prev=A.next){case 0:return A.prev=0,A.next=3,fetch("https://cinematicketbooking.herokuapp.com/session?timeZone=".concat(vA));case 3:d(A.sent,(function(A){alert(A)}),(function(A){var e=A.map((function(A){return new Date(A)}));s(e)})),A.next=10;break;case 7:A.prev=7,A.t0=A.catch(0),alert("Oops, something went wrong");case 10:case"end":return A.stop()}}),A,null,[[0,7]])})))).apply(this,arguments)}!function(){A.apply(this,arguments)}()}),[]),c&&Object(p.jsxs)("div",{className:"filter-form",children:[Object(p.jsx)(b.a,{className:"filter-form__selector",ref:i,placeholder:"Select Date..",options:{enable:c,dateFormat:"l, F d",onChange:function(A){e(A)}}}),Object(p.jsx)("button",{type:"button",className:"filter-form__button",onClick:function(){var A;(null===i||void 0===i||null===(A=i.current)||void 0===A?void 0:A.flatpickr)&&i.current.flatpickr.clear()},children:Object(p.jsx)("img",{src:O,alt:"close"})})]})}function f(A){var e=A.changeSelectedCity,t=Object(n.useState)([]),a=Object(u.a)(t,2),c=a[0],s=a[1];Object(n.useEffect)((function(){function A(){return(A=Object(l.a)(o.a.mark((function A(){return o.a.wrap((function(A){for(;;)switch(A.prev=A.next){case 0:return A.prev=0,A.next=3,fetch("https://cinematicketbooking.herokuapp.com/city");case 3:d(A.sent,(function(A){alert(A)}),(function(A){s(A)})),A.next=10;break;case 7:A.prev=7,A.t0=A.catch(0),alert("Oops, something went wrong");case 10:case"end":return A.stop()}}),A,null,[[0,7]])})))).apply(this,arguments)}!function(){A.apply(this,arguments)}()}),[]);for(var i=[],r=0;r<c.length;r++)i.includes(c[r].cityName)||c[r].cityName===xA||i.push(c[r].cityName);return i.sort(),Object(p.jsx)("div",{className:"filter-form",children:Object(p.jsxs)("select",{className:"filter-form__selector",defaultValue:xA,name:"select",onChange:function(A){return e(A.target.value)},children:[Object(p.jsx)("option",{value:xA,children:"Minsk"}),i.map((function(A,e){return Object(p.jsx)("option",{value:A,children:A},A+e)}))]})})}function v(A){var e=A.city,t=A.changeSelectedCinema,a=Object(n.useState)([]),c=Object(u.a)(a,2),s=c[0],i=c[1];Object(n.useEffect)((function(){function A(){return(A=Object(l.a)(o.a.mark((function A(){return o.a.wrap((function(A){for(;;)switch(A.prev=A.next){case 0:return A.prev=0,A.next=3,fetch("https://cinematicketbooking.herokuapp.com/cinema?city=".concat(e));case 3:d(A.sent,(function(A){alert(A)}),(function(A){i(A),t(CA)})),A.next=10;break;case 7:A.prev=7,A.t0=A.catch(0),alert("Oops, something went wrong");case 10:case"end":return A.stop()}}),A,null,[[0,7]])})))).apply(this,arguments)}!function(){A.apply(this,arguments)}()}),[e]);for(var r=[],j=0;j<s.length;j++)r.includes(s[j].cinemaName)||r.push(s[j].cinemaName);return r.sort(),Object(p.jsx)("div",{className:"filter-form",children:Object(p.jsxs)("select",{className:"filter-form__selector",name:"select",onChange:function(A){return t(A.target.value)},children:[Object(p.jsx)("option",{value:CA,children:"All cinemas"}),r.map((function(A,e){return Object(p.jsx)("option",{value:A,children:A},A+e)}))]})})}t(29);function x(A){var e=A.city,t=A.changeSelectedCity,n=A.changeSelectedDay,a=A.changeSelectedCinema;return Object(p.jsxs)("div",{className:"filters",children:[Object(p.jsx)(g,{changeSelectedDay:n}),Object(p.jsx)(f,{changeSelectedCity:t}),Object(p.jsx)(v,{city:e,changeSelectedCinema:a})]})}t(30);var C=t.p+"static/media/ticket.8db39acb.png";function S(){return Object(p.jsxs)("div",{className:"carousel__ticket ticket",children:[Object(p.jsx)("div",{className:"ticket__icon",children:Object(p.jsx)("img",{className:"ticket__img",src:C,alt:"ticket"})}),Object(p.jsx)("div",{className:"ticket__text",children:Object(p.jsx)("span",{children:"Ticket"})})]})}t(31);function w(A){var e=A.city,t=A.cinema,a=A.day,c=Object(n.useState)([]),s=Object(u.a)(c,2),r=s[0],j=s[1];Object(n.useEffect)((function(){function A(){return(A=Object(l.a)(o.a.mark((function A(){var n;return o.a.wrap((function(A){for(;;)switch(A.prev=A.next){case 0:return A.prev=0,n="city=".concat(e,"&timeZone=").concat(vA),t!==CA&&(n+="&cinema=".concat(t)),a!==SA&&(n+="&date=".concat(a)),A.next=6,fetch("https://cinematicketbooking.herokuapp.com/movie?".concat(n));case 6:d(A.sent,(function(A){alert(A)}),(function(A){j(A)})),A.next=13;break;case 10:A.prev=10,A.t0=A.catch(0),alert("Oops, something went wrong");case 13:case"end":return A.stop()}}),A,null,[[0,10]])})))).apply(this,arguments)}!function(){A.apply(this,arguments)}()}),[e,t,a]);var m=r.length>4?4:r.length,h=Object(n.useState)(0),b=Object(u.a)(h,2),O=b[0],g=b[1];return Object(p.jsxs)("div",{className:"carousel",children:[r.length>m&&Object(p.jsx)("div",{className:"carousel__arrow",onClick:function(){g((function(A){var e=A+25;return Math.min(e,0)}))},children:Object(p.jsx)("img",{src:"data:image/png;base64,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",alt:"leftArrow"})}),Object(p.jsx)("div",{className:"carousel__window",children:Object(p.jsx)("div",{className:r.length>4?"carousel__container carousel__container_space-between":"carousel__container carousel__container_space-around",style:{transform:"translateX(".concat(O,"%)")},children:r.map((function(A){var e="/movie/"+A.movie_id;return Object(p.jsx)("div",{className:"carousel__item",children:Object(p.jsx)("div",{className:"carousel__img-container",children:Object(p.jsxs)("div",{className:"carousel__img-content",children:[Object(p.jsx)(i.b,{to:e,children:Object(p.jsx)("img",{className:"carousel__img",src:A.posterImg_link,alt:"poster"})}),Object(p.jsx)("div",{className:"carousel__ticket",children:Object(p.jsx)(i.b,{to:e,children:Object(p.jsx)(S,{})})}),Object(p.jsx)("h3",{children:A.movieName})]})})},A._id)}))})}),r.length>m&&Object(p.jsx)("div",{className:"carousel__arrow",onClick:function(){g((function(A){var e=A-25,t=-25*(r.length-m);return Math.max(e,t)}))},children:Object(p.jsx)("img",{src:"data:image/png;base64,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",alt:"rightArrow"})})]})}t(32);function k(A){var e=A.session;return Object(p.jsx)("div",{className:"movie-schedule__time-item",children:Object(p.jsx)("span",{children:new Intl.DateTimeFormat("en-US",{hour:"numeric",minute:"numeric",hour12:!1}).format(new Date(e.date))})})}function B(A){var e=A.movie,t="/movie/"+e.id;return Object(p.jsxs)("div",{className:"movie-schedule",children:[Object(p.jsx)("div",{className:"movie-schedule__movie-container",children:Object(p.jsx)(i.b,{to:t,className:"link",children:Object(p.jsx)("h3",{children:e.movieName})})}),Object(p.jsx)("div",{className:"movie-schedule__time-container",children:e.sessions.map((function(A){var e="/reservation/"+A.id;return Object(p.jsx)(i.b,{to:e,className:"link",children:Object(p.jsx)(k,{session:A})},A.id)}))})]})}function N(A){var e=A.cinema;return Object(p.jsxs)("div",{className:"cinema-schedule",children:[Object(p.jsxs)("div",{className:"cinema-schedule__cinema-name-container",children:[Object(p.jsx)("h3",{children:e.cinemaName}),Object(p.jsx)("h5",{children:e.cinemaAddress})]}),Object(p.jsx)("div",{className:"cinema-schedule__movie-schedule-container",children:e.movies.map((function(A,e){return Object(p.jsx)(B,{movie:A},e)}))})]})}function Q(A){var e=A.city,t=A.cinema,a=A.day,c=Object(n.useState)([]),s=Object(u.a)(c,2),i=s[0],r=s[1],j={month:"long",day:"numeric",weekday:"long"};return Object(n.useEffect)((function(){function A(){return(A=Object(l.a)(o.a.mark((function A(){var n;return o.a.wrap((function(A){for(;;)switch(A.prev=A.next){case 0:return A.prev=0,n="city=".concat(e,"&timeZone=").concat(vA),t!==CA&&(n+="&cinema=".concat(t)),a!==SA&&(n+="&date=".concat(a)),A.next=6,fetch("https://cinematicketbooking.herokuapp.com/schedule?".concat(n));case 6:d(A.sent,(function(A){alert(A)}),(function(A){r(A)})),A.next=13;break;case 10:A.prev=10,A.t0=A.catch(0),alert("Oops, something went wrong");case 13:case"end":return A.stop()}}),A,null,[[0,10]])})))).apply(this,arguments)}!function(){A.apply(this,arguments)}()}),[e,t,a]),Object(p.jsx)("div",{className:"schedule",children:i.map((function(A,e){return Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{className:"schedule__date-container",children:Object(p.jsx)("h2",{children:new Date(A.day).toLocaleDateString("en-US",j)})}),0===A.schedules.length?Object(p.jsx)("h3",{className:"schedule__no-sessions",children:"No sessions found"}):A.schedules.map((function(A,e){return Object(p.jsx)(N,{cinema:A},e)}))]},e)}))})}t(33),t(34);function E(){var A=Object(n.useContext)(Z).moviesList;return Object(p.jsx)("main",{className:"main-movie-list",children:A&&A.map((function(A){var e="/movie/"+A._id;return Object(p.jsxs)("div",{className:"main-movie-list__container",children:[Object(p.jsx)("div",{className:"main-movie-list__movie-poster",children:Object(p.jsx)(i.b,{to:e,className:"link",children:Object(p.jsxs)("div",{className:"main-movie-list__movie-poster-img",children:[Object(p.jsx)("img",{src:A.posterImg_link,alt:"poster"}),Object(p.jsx)("div",{className:"main-movie-list__movie-poster-age-restriction",children:Object(p.jsx)("span",{children:A.age_restriction})})]})})}),Object(p.jsxs)("div",{className:"main-movie-list__movie-information",children:[Object(p.jsx)("div",{className:"main-movie-list__movie-title",children:Object(p.jsx)("h2",{children:A.movieName})}),Object(p.jsxs)("table",{children:[Object(p.jsx)("tbody",{children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:"Duration:"}),Object(p.jsxs)("td",{children:[A.duration_min," min"]})]})}),Object(p.jsx)("tbody",{children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:"Genre:"}),Object(p.jsx)("td",{children:A.genres})]})}),Object(p.jsx)("tbody",{children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:"Age restriction:"}),Object(p.jsx)("td",{children:A.age_restriction})]})})]})]})]},A._id)}))})}function I(){var A=Object(n.useContext)(X),e=A.city,t=A.setCity,a=A.cinema,c=A.setCinema,s=A.day,i=A.setDay,r=Object(n.useContext)(Z).moviesList;return Object(p.jsx)("main",{className:"main",children:Object(p.jsx)("div",{className:"main__container",children:r?Object(p.jsx)(E,{}):Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{className:"main__filters",children:Object(p.jsx)(x,{city:e,changeSelectedCity:t,changeSelectedCinema:c,changeSelectedDay:i})}),Object(p.jsx)("div",{className:"main__carousel",children:Object(p.jsx)(w,{city:e,cinema:a,day:s})}),Object(p.jsx)("div",{className:"main__schedule",children:Object(p.jsx)(Q,{city:e,cinema:a,day:s})})]})})})}var y=t.p+"static/media/film.e1dab363.png";t(35),t(36);function U(A){var e=A.movieData,t=A.setMovieData,a=Object(n.useState)(""),c=Object(u.a)(a,2),s=c[0],r=c[1],j=Object(n.useState)(!1),m=Object(u.a)(j,2),h=m[0],b=m[1],O=Object(n.useContext)(Z).setMoviesList,g=function(){function A(){return(A=Object(l.a)(o.a.mark((function A(){var e;return o.a.wrap((function(A){for(;;)switch(A.prev=A.next){case 0:return e={payload:s},A.prev=1,A.next=4,fetch("https://cinematicketbooking.herokuapp.com/movie/search",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});case 4:d(A.sent,(function(A){alert(A)}),(function(A){t(null),O(A)})),A.next=11;break;case 8:A.prev=8,A.t0=A.catch(1),alert("Oops, something went wrong");case 11:case"end":return A.stop()}}),A,null,[[1,8]])})))).apply(this,arguments)}!function(){A.apply(this,arguments)}()};return Object(n.useEffect)((function(){function A(){return(A=Object(l.a)(o.a.mark((function A(){var e;return o.a.wrap((function(A){for(;;)switch(A.prev=A.next){case 0:return e={payload:s},A.prev=1,A.next=4,fetch("https://cinematicketbooking.herokuapp.com/movie/search",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});case 4:d(A.sent,(function(A){alert(A)}),(function(A){t(A)})),A.next=11;break;case 8:A.prev=8,A.t0=A.catch(1),alert("Oops, something went wrong");case 11:case"end":return A.stop()}}),A,null,[[1,8]])})))).apply(this,arguments)}!function(){A.apply(this,arguments)}()}),[s,h]),Object(p.jsx)("form",{className:"search-form",children:Object(p.jsxs)("div",{className:"search-form__container",children:[Object(p.jsx)("div",{className:"search-form__content",children:Object(p.jsxs)("div",{className:"search-form__dropdown-content",children:[Object(p.jsx)("input",{id:"searchText",type:"text",name:"searchText",className:"search-form__input",value:s,placeholder:"Search movie...",maxLength:"20",autoComplete:"off",onKeyPress:function(A){return function(A){"Enter"===A.key&&(A.preventDefault(),g())}(A)},onChange:function(A){r(A.target.value)},onClick:function(A){b((function(A){return!A})),A.stopPropagation()}}),e&&e.map((function(A){var e="/movie/"+A._id;return Object(p.jsx)("div",{children:Object(p.jsx)(i.b,{to:e,className:"link",children:Object(p.jsx)("span",{children:A.movieName})})},A._id)}))]})}),Object(p.jsxs)("div",{children:[" ",Object(p.jsx)("button",{id:"searchButton",name:"searchButton",className:"search-form__button",onClick:function(A){A.preventDefault(),g()},children:Object(p.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAB2AAAAdgB+lymcgAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAOkSURBVHic7dpPaJxFGMfxz2piW6VWD9aiVXMpWBShIvZgQLxoo+YkCHrQm3qwYMWr1P+eBT30pgdR8aZYQUERQZQWwaAi2CJVStUolkaNMc2uh2mErDO7775/Zg19vzCXYXd+v+fZfeedeWZoaWlpaWlpaTlL6WTSmcLVuBIXn+lbxi/4Fl/hVCYvWZjADF7BcfSGtNM4jCewI7/d+tiIvThmeNCD2ruYzuy9MjM4olrg/e11XJYziDJswAvoqjf41TaPO7JFMyIX4SPFg+niBI5iYYTvreCRTDEVZgs+N9j4It7GA8KbYKJvjAuwG89gbshYPTzeYDwjsdHgX34ZB4z+/N4qvA0GJeHB6var86K0wa+xs8LYHSHIpcT4S7ixwviVuV16wnsHF9akM42fEjpHsKkmnZHYIKzcYqbexLk16+3EyYTekzVrFWJvwsxhITlNMCOsFPs1/8AlDWlGmcB3ESPLwjq/SZ6P6PbwdMO6a9iTMHEgg/YWYePUr31c/Y9dkpcjBhaxPZP+YxH9Hm7OpO/7iPhbucSxVVgR9nt4Kof4VER4HIuSTyMePqgy4DkFP5ea5N6rIl6CmF6lCbhoAqYifV38UEW8BMcifdtUeAUXTUBsdTcvvJ9zciLS18HmsgMWTcBkpO/3sqIVWEj0n1d2wKIJWIz0bS0rWoFtif5fyw5YNAHzkb7Nwn4+J7EEnBJ2iKUomoCjif7rygqX5NpIX2xeKEzRBHwpLEL6yVmr6yT0PsllIFap+SKXOG6I6PdwXy4D+xMGbsuk/1pEu4srMunbIV4JOqT5I7Zd4vuAgw3r/oeDERNN7wkm8XFCN9e/71+mE0aWcFNDmi8lNOfkO9xdwxsJQz+qvzK0L6G1ormED+Vy8epMD78JlaOqTEr/8j2hLD9WZqVL46fxnPLl8V3Sz/xqu7uC99p41GCT82c+U2TP0MH1eFV8tu9vf6lpEVZ1EtkvXGoYRBef4X2hqvyzUOu/VHicrsGdRq8tLuEu4TBmrDyEvw3/1Zpotf0TqrJb2DDVHeCKMOHdI31W+L9JwvnCQcWf6gl+ztpX3ax1kATCpPesYpej+ltXuB+0R3x+WjdJIJzY3CJcfvhQ2Lf3m17AN8Khy/3CNbphrKsk9LNJONDcLlyyKMu6TkJdDErCAq4an7V8DErCw2P0lZVUEu4dp6nczArnFKvBH1LwtGgs++mGmBKW1CeF6zqlS+UtLS0tLS0tLWcF/wD/tTklkfhKfwAAAABJRU5ErkJggg==",alt:"search"})})]})]})})}t(37);function F(A){var e=A.openLogIn,t=A.openSignUp;return Object(p.jsxs)("div",{className:"sign",children:[Object(p.jsx)("div",{className:"sign__logIn",onClick:e,children:Object(p.jsx)("span",{children:"Log In"})}),Object(p.jsx)("div",{className:"sign__signUp",onClick:t,children:Object(p.jsx)("span",{children:"Sign Up"})})]})}var J=t.p+"static/media/user.61637315.png";t(38);function D(A){var e=A.username,t=A.onLogout;return Object(p.jsxs)("div",{className:"avatar",children:[Object(p.jsx)(i.b,{to:"/personalaccount",className:"link",children:Object(p.jsxs)("div",{className:"avatar__user",children:[Object(p.jsx)("div",{className:"avatar__img",children:Object(p.jsx)("img",{src:J,alt:"avatar"})}),Object(p.jsx)("div",{className:"avatar__title",children:Object(p.jsxs)("span",{children:["Hi, ",e]})})]})}),Object(p.jsx)("div",{className:"avatar__logOut",onClick:t,children:Object(p.jsx)("span",{children:"Log Out"})})]})}function q(A,e){this.username=A,this.password=e}function W(A,e,t){this.username=A,this.email=e,this.password=t}t(13);var R=t.p+"static/media/user.33e7df09.png",T=t.p+"static/media/arroba.05c52f50.png",V="data:image/png;base64,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";function L(A){var e=A.children,t=A.title,n=A.onCloseModalWindow;return Object(p.jsx)("div",{className:"auth-modal",onClick:n,children:Object(p.jsxs)("div",{className:"auth-modal__content ",onClick:function(A){return A.stopPropagation()},children:[Object(p.jsx)("div",{className:"auth-modal__title",children:Object(p.jsx)("h2",{children:t})}),e,Object(p.jsx)("div",{})]})})}function K(A){var e=A.onCloseSignUpModal,t=A.setUserState,a=Object(n.useState)(!1),c=Object(u.a)(a,2),s=c[0],i=c[1],r=Object(n.useState)({username:null,email:null,password:null}),j=Object(u.a)(r,2),m=j[0],h=j[1],b=Object(n.useState)(""),O=Object(u.a)(b,2),g=O[0],f=O[1],v=Object(n.useState)(""),x=Object(u.a)(v,2),C=x[0],S=x[1],w=Object(n.useState)(""),k=Object(u.a)(w,2),B=k[0],N=k[1],Q=Object(n.useState)(""),E=Object(u.a)(Q,2),I=E[0],y=E[1],U=[{title:"Name",name:"username",type:"text",img:R,placeholder:"type your username",inputText:g,setText:f},{title:"Email",name:"email",type:"email",img:T,placeholder:"type your email",inputText:C,setText:S},{title:"Password",name:"password",type:"password",img:V,placeholder:"type your password",inputText:B,setText:N},{title:"Repeat Password",name:"repeatPassword",type:"password",img:V,placeholder:"repeat your password",inputText:I,setText:y}],F=function(){var A=Object(l.a)(o.a.mark((function A(e){return o.a.wrap((function(A){for(;;)switch(A.prev=A.next){case 0:return A.prev=0,A.next=3,fetch("https://cinematicketbooking.herokuapp.com/auth/user",{headers:{Authorization:"Bearer ".concat(e)}});case 3:d(A.sent,(function(A){alert(A)}),(function(A){t(A)})),A.next=10;break;case 7:A.prev=7,A.t0=A.catch(0),alert(A.t0);case 10:case"end":return A.stop()}}),A,null,[[0,7]])})));return function(e){return A.apply(this,arguments)}}(),J=function(){var A=Object(l.a)(o.a.mark((function A(e){return o.a.wrap((function(A){for(;;)switch(A.prev=A.next){case 0:return A.prev=0,A.next=3,fetch("https://cinematicketbooking.herokuapp.com/auth/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});case 3:d(A.sent,(function(A){h(A)}),(function(A){sessionStorage.setItem(wA,A),F(A),i(!0)})),A.next=10;break;case 7:A.prev=7,A.t0=A.catch(0),alert("Oops, something went wrong");case 10:case"end":return A.stop()}}),A,null,[[0,7]])})));return function(e){return A.apply(this,arguments)}}();return Object(p.jsx)(L,{title:"Sign Up",onCloseModalWindow:function(){return e()},children:s?Object(p.jsx)("div",{className:"auth-modal__greeting",children:Object(p.jsx)("h2",{children:"Welcome!"})}):Object(p.jsxs)("form",{onSubmit:function(A){A.preventDefault();var e=A.target.username.value,t=A.target.email.value,n=A.target.password.value,a=A.target.repeatPassword.value,c=new W(e,t,n);n===a?J(c):h({password:"Password mismatch"})},children:[Object(p.jsx)("div",{className:"auth-modal__container",children:U.map((function(A){return Object(p.jsx)("div",{className:"auth-modal__row",children:Object(p.jsxs)("div",{className:"auth-modal__field-container",children:[Object(p.jsxs)("div",{className:"auth-modal__input-container",children:[Object(p.jsx)("div",{className:"auth-modal__label",children:Object(p.jsx)("label",{for:A.name,className:"auth-modal__row-title",children:Object(p.jsx)("span",{children:A.title})})}),Object(p.jsx)("div",{className:"auth-modal__input-icon",children:Object(p.jsx)("img",{src:A.img,alt:R})}),Object(p.jsx)("input",{id:A.name,type:A.type,name:A.name,value:A.inputText,placeholder:A.placeholder,className:"auth-modal__input",autoComplete:"off",onChange:function(e){return t=e.target.value,void(0,A.setText)(t);var t}},A.name)]}),Object(p.jsx)("div",{className:"auth-modal__error-container",children:m[A.name]?Object(p.jsx)("h5",{className:"auth-modal__error",children:m[A.name]}):Object(p.jsx)("h5",{className:"auth-modal__error"})})]})},A.name)}))}),Object(p.jsx)("div",{children:Object(p.jsx)("button",{type:"submit",className:"auth-modal__button",children:Object(p.jsx)("span",{children:"Sign Up"})})})]})})}function H(A){var e=A.onCloseLogInModal,t=A.setUserState,a=Object(n.useState)(""),c=Object(u.a)(a,2),s=c[0],i=c[1],r=Object(n.useState)(""),j=Object(u.a)(r,2),m=j[0],h=j[1],b=Object(n.useState)({username:null,password:null}),O=Object(u.a)(b,2),g=O[0],f=O[1],v=Object(n.useState)(!1),x=Object(u.a)(v,2),C=x[0],S=x[1],w=[{title:"Name",name:"username",type:"text",img:R,placeholder:"type your username",inputText:s,setText:i},{title:"Password",name:"password",type:"password",img:V,placeholder:"type your password",inputText:m,setText:h}],k=function(){var A=Object(l.a)(o.a.mark((function A(n){return o.a.wrap((function(A){for(;;)switch(A.prev=A.next){case 0:return A.prev=0,A.next=3,fetch("https://cinematicketbooking.herokuapp.com/auth/user",{headers:{Authorization:"Bearer ".concat(n)}});case 3:d(A.sent,(function(A){alert(A)}),(function(A){e(),t(A)})),A.next=10;break;case 7:A.prev=7,A.t0=A.catch(0),alert("Oops, something went wrong");case 10:case"end":return A.stop()}}),A,null,[[0,7]])})));return function(e){return A.apply(this,arguments)}}(),B=function(){var A=Object(l.a)(o.a.mark((function A(e){var t,n,a;return o.a.wrap((function(A){for(;;)switch(A.prev=A.next){case 0:return e.preventDefault(),t=e.target.username.value,n=e.target.password.value,a=new q(t,n),A.prev=4,A.next=7,fetch("https://cinematicketbooking.herokuapp.com/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});case 7:d(A.sent,(function(A){f(A)}),(function(A){C?localStorage.setItem(wA,A):sessionStorage.setItem(wA,A),k(A)})),A.next=14;break;case 11:A.prev=11,A.t0=A.catch(4),alert("Oops, something went wrong");case 14:case"end":return A.stop()}}),A,null,[[4,11]])})));return function(e){return A.apply(this,arguments)}}();return Object(p.jsx)(L,{title:"Log In",onCloseModalWindow:function(){return e()},children:Object(p.jsxs)("form",{onSubmit:B,children:[Object(p.jsx)("div",{className:"auth-modal__container",children:w.map((function(A){return Object(p.jsx)("div",{className:"auth-modal__row",children:Object(p.jsxs)("div",{className:"auth-modal__field-container",children:[Object(p.jsxs)("div",{className:"auth-modal__input-container",children:[Object(p.jsx)("div",{className:"auth-modal__label",children:Object(p.jsx)("label",{for:A.name,className:"auth-modal__row-title",children:Object(p.jsx)("span",{children:A.title})})}),Object(p.jsx)("div",{className:"auth-modal__input-icon",children:Object(p.jsx)("img",{src:A.img,alt:R})}),Object(p.jsx)("input",{id:A.name,type:A.type,name:A.name,value:A.inputText,placeholder:A.placeholder,className:"auth-modal__input",autoComplete:"off",onChange:function(e){return t=e.target.value,void(0,A.setText)(t);var t}},A.name)]}),Object(p.jsx)("div",{className:"auth-modal__error-container",children:g[A.name]?Object(p.jsx)("h5",{className:"auth-modal__error",children:g[A.name]}):Object(p.jsx)("h5",{className:"auth-modal__error"})})]})},A.name)}))}),Object(p.jsxs)("div",{children:[Object(p.jsxs)("div",{className:"auth-modal__checkbox",children:[Object(p.jsx)("input",{type:"checkbox",id:"remember",name:"remember",checked:C,onChange:function(A){return S(A.target.checked)}}),Object(p.jsx)("label",{for:"remember",children:Object(p.jsx)("span",{children:"Remember Me"})})]}),Object(p.jsx)("button",{type:"submit",className:"auth-modal__button",children:Object(p.jsx)("span",{children:"Log in"})})]})]})})}function P(A){var e=A.showSearchForm,t=A.movieData,a=A.setMovieData,c=Object(n.useState)(!1),s=Object(u.a)(c,2),r=s[0],o=s[1],l=Object(n.useState)(!1),d=Object(u.a)(l,2),j=d[0],m=d[1],h=Object(n.useContext)(fA),b=h.user,O=h.setUserState,g=(Object(n.useContext)(Z)||{setMoviesList:null}).setMoviesList;return Object(p.jsx)("header",{className:"header",children:Object(p.jsxs)("div",{className:"header__container",children:[Object(p.jsxs)(i.b,{to:"/",className:"link",children:[" ",Object(p.jsxs)("div",{className:"header__logo logo",onClick:function(){return g?g(null):null},children:[Object(p.jsx)("div",{className:"logo__text",children:Object(p.jsx)("h2",{children:"Spool"})}),Object(p.jsx)("div",{className:"logo__icon",children:Object(p.jsx)("img",{src:y,alt:"film_logo"})})]})]}),e?Object(p.jsx)(U,{movieData:t,setMovieData:a}):null,b?Object(p.jsx)(D,{username:b.username,onLogout:function(){localStorage.clear(),sessionStorage.clear(),O(null)}}):Object(p.jsx)(F,{openSignUp:function(){return o(!0)},openLogIn:function(){return m(!0)}}),r?Object(p.jsx)(K,{onCloseSignUpModal:function(){return o(!1)},setUserState:O}):null,j?Object(p.jsx)(H,{onCloseLogInModal:function(){return m(!1)},setUserState:O}):null]})})}var X=a.a.createContext(),Z=a.a.createContext();function M(){var A=Object(n.useState)(xA),e=Object(u.a)(A,2),t=e[0],a=e[1],c=Object(n.useState)(CA),s=Object(u.a)(c,2),i=s[0],r=s[1],o=Object(n.useState)(SA),l=Object(u.a)(o,2),d=l[0],j=l[1],m=Object(n.useState)(null),h=Object(u.a)(m,2),b=h[0],O=h[1],g=Object(n.useState)([]),f=Object(u.a)(g,2),v=f[0],x=f[1],C={city:t,setCity:a,cinema:i,setCinema:r,day:d,setDay:j},S={moviesList:b,setMoviesList:O};return Object(p.jsx)("div",{onClick:function(){x(null)},children:Object(p.jsxs)(Z.Provider,{value:S,children:[Object(p.jsx)(P,{showSearchForm:!0,movieData:v,setMovieData:x}),Object(p.jsx)(X.Provider,{value:C,children:Object(p.jsx)(I,{})})]})})}function Y(A){var e=A.session;return Object(p.jsx)("div",{className:"movie-schedule__time-item",children:Object(p.jsx)("span",{children:new Intl.DateTimeFormat("en-US",{hour:"numeric",minute:"numeric",hour12:!1}).format(new Date(e.date))})})}function G(A){var e=A.cinema;return Object(p.jsxs)("div",{className:"cinema-schedule",children:[Object(p.jsxs)("div",{className:"cinema-schedule__cinema-name-container",children:[Object(p.jsx)("h3",{children:e.cinemaName}),Object(p.jsx)("h5",{children:e.cinemaAddress})]}),Object(p.jsx)("div",{className:"cinema-schedule__time-container",children:e.sessions.map((function(A){var e="/reservation/"+A.id;return Object(p.jsx)(i.b,{to:e,className:"link",children:Object(p.jsx)(Y,{session:A})},A.id)}))})]})}t(39);function z(A){var e=A.city,t=A.cinema,a=A.day,c=A.movieId,s=Object(n.useState)([]),i=Object(u.a)(s,2),r=i[0],j=i[1],m={month:"long",day:"numeric",weekday:"long"};return Object(n.useEffect)((function(){function A(){return(A=Object(l.a)(o.a.mark((function A(){var n;return o.a.wrap((function(A){for(;;)switch(A.prev=A.next){case 0:return A.prev=0,n="city=".concat(e,"&timeZone=").concat(vA),t!==CA&&(n+="&cinema=".concat(t)),a!==SA&&(n+="&date=".concat(a)),A.next=6,fetch("https://cinematicketbooking.herokuapp.com/schedule/".concat(c,"?").concat(n));case 6:d(A.sent,(function(A){alert(A)}),(function(A){j(A)})),A.next=13;break;case 10:A.prev=10,A.t0=A.catch(0),alert("Oops, something went wrong");case 13:case"end":return A.stop()}}),A,null,[[0,10]])})))).apply(this,arguments)}!function(){A.apply(this,arguments)}()}),[e,t,a]),Object(p.jsx)("div",{className:"schedule",children:r.map((function(A,e){return Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{className:"schedule__date-container",children:Object(p.jsx)("h2",{children:new Date(A.day).toLocaleDateString("en-US",m)})}),0===A.schedules.length?Object(p.jsx)("h3",{className:"schedule__no-sessions",children:"No sessions found"}):A.schedules.map((function(A,e){return Object(p.jsx)(G,{cinema:A},e)}))]},e)}))})}t(40);function _(A){var e=A.storyline;return Object(p.jsxs)("div",{className:"description",children:[Object(p.jsx)("h3",{className:"description__title",children:"Storyline"}),Object(p.jsx)("p",{className:"description__story-line",children:e})]})}t(41);function $(){return Object(p.jsxs)("div",{id:"description",className:"navigation",children:[Object(p.jsx)("a",{href:"#schedule",children:Object(p.jsx)("h4",{children:"Schedule"})}),Object(p.jsx)("a",{href:"#description",children:Object(p.jsx)("h4",{children:"Storyline"})})]})}t(42);function AA(A){var e=A.params,t=Object(n.useState)(null),a=Object(u.a)(t,2),c=a[0],s=a[1],i=Object(n.useContext)(eA),r=i.city,j=i.setCity,m=i.cinema,h=i.setCinema,b=i.day,O=i.setDay,g="en-US",f={day:"numeric",month:"long"};return Object(n.useEffect)((function(){function A(){return(A=Object(l.a)(o.a.mark((function A(){return o.a.wrap((function(A){for(;;)switch(A.prev=A.next){case 0:return A.prev=0,A.next=3,fetch("https://cinematicketbooking.herokuapp.com/movie/".concat(e.id,"?timeZone=").concat(vA));case 3:d(A.sent,(function(A){alert(A)}),(function(A){s(A)})),A.next=10;break;case 7:A.prev=7,A.t0=A.catch(0),alert("Oops, something went wrong");case 10:case"end":return A.stop()}}),A,null,[[0,7]])})))).apply(this,arguments)}!function(){A.apply(this,arguments)}()}),[]),Object(p.jsx)("main",{className:"main-movie",children:c&&Object(p.jsxs)("div",{className:"main-movie__container",children:[Object(p.jsx)("div",{className:"main-movie__movie-poster",children:Object(p.jsxs)("div",{className:"main-movie__movie-poster-img",children:[Object(p.jsx)("img",{src:c.movieInformation.posterImg_link,alt:"poster"}),Object(p.jsx)("div",{className:"main-movie__movie-poster-age-restriction",children:Object(p.jsx)("span",{children:c.movieInformation.age_restriction})})]})}),Object(p.jsxs)("div",{className:"main-movie__movie-information",children:[Object(p.jsx)("div",{className:"main-movie__movie-title",children:Object(p.jsx)("h2",{children:c.movieInformation.movieName})}),Object(p.jsx)("div",{className:"main-movie__filters",children:Object(p.jsx)(x,{city:r,changeSelectedCity:j,changeSelectedCinema:h,changeSelectedDay:O})}),Object(p.jsx)("div",{children:Object(p.jsx)($,{})}),Object(p.jsxs)("table",{children:[Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:"Show dates:"}),Object(p.jsxs)("td",{children:[new Date(c.release_day).toLocaleDateString(g,f)," - ",new Date(c.last_day).toLocaleDateString(g,f)]})]}),Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:"Duration:"}),Object(p.jsxs)("td",{children:[c.movieInformation.duration_min," min"]})]}),Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:"Genre:"}),Object(p.jsx)("td",{children:c.movieInformation.genres})]}),Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:"Age restriction:"}),Object(p.jsx)("td",{children:c.movieInformation.age_restriction})]})]}),Object(p.jsx)("div",{className:"main-movie__schedule",children:Object(p.jsx)(z,{city:r,cinema:m,day:b,movieId:e.id})}),Object(p.jsx)("div",{className:"main-movie__description",children:Object(p.jsx)(_,{storyline:c.movieInformation.storyline})})]})]})})}var eA=a.a.createContext();function tA(){var A=Object(m.g)(),e=Object(n.useState)(xA),t=Object(u.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(CA),i=Object(u.a)(s,2),r=i[0],o=i[1],l=Object(n.useState)(SA),d=Object(u.a)(l,2),j={city:a,setCity:c,cinema:r,setCinema:o,day:d[0],setDay:d[1]};return Object(p.jsxs)("div",{children:[Object(p.jsx)(P,{showSearchForm:!1}),Object(p.jsx)(eA.Provider,{value:j,children:Object(p.jsx)(AA,{params:A})})]})}var nA=t(9),aA=t(8),cA=(t(43),t.p+"static/media/location.c937a8cc.png"),sA=t.p+"static/media/timetable.c91df6ab.png";function iA(A){var e=A.sessionId,t=A.changeSessionContentReady,a=Object(n.useState)(null),c=Object(u.a)(a,2),s=c[0],i=c[1];return Object(n.useEffect)((function(){function A(){return(A=Object(l.a)(o.a.mark((function A(){return o.a.wrap((function(A){for(;;)switch(A.prev=A.next){case 0:return A.prev=0,A.next=3,fetch("https://cinematicketbooking.herokuapp.com/session/".concat(e));case 3:d(A.sent,(function(A){alert(A)}),(function(A){i(A),t&&t(!0)})),A.next=10;break;case 7:A.prev=7,A.t0=A.catch(0),alert("Oops, something went wrong");case 10:case"end":return A.stop()}}),A,null,[[0,7]])})))).apply(this,arguments)}!function(){A.apply(this,arguments)}()}),[]),Object(p.jsx)("div",{children:s&&Object(p.jsxs)("div",{className:"session-information",children:[Object(p.jsx)("div",{className:"session-information__poster-img",children:Object(p.jsx)("img",{src:s[0].posterImg_link,alt:"poster"})}),Object(p.jsxs)("div",{className:"session-information__content-container",children:[Object(p.jsx)("h2",{className:"session-information__thanks",children:s[0].movieName}),Object(p.jsxs)("div",{className:"session-information__place",children:[Object(p.jsx)("img",{src:cA,alt:"location"}),Object(p.jsx)("h3",{children:s[0].cinemaName})]}),Object(p.jsxs)("div",{className:"session-information__date",children:[Object(p.jsx)("img",{src:sA,alt:"timetable"}),Object(p.jsx)("h3",{children:new Date(s[0].date).toLocaleDateString("en-US",{month:"long",day:"numeric",weekday:"long",hour:"numeric",minute:"numeric",hour12:!1})})]})]})]})})}function rA(A){var e=A.seats,t=0;return e&&e.forEach((function(A){t+=A.seat_details.price})),Object(p.jsxs)("h2",{children:["Total price: ",t,"$"]})}t(44);function oA(A){var e=A.rowsOfSeats,t=A.sessionId,n=A.hiddenReservationResultWindow;return Object(p.jsxs)("div",{children:[Object(p.jsx)(P,{showSearchForm:!1}),Object(p.jsx)("h2",{className:"reservation-result__thanks",children:"Thank You for your Reservation!"}),Object(p.jsxs)("div",{onClick:n,className:"reservation-result__back-button",children:[Object(p.jsx)("div",{className:"reservation-result__back-button-img",children:Object(p.jsx)("img",{src:"data:image/png;base64,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",alt:"arrow_back"})}),Object(p.jsx)("h3",{children:"Back to cinema hall"})]}),Object(p.jsx)("div",{className:"reservation-result_reservation-ticket reservation-ticket",children:Object(p.jsxs)("div",{className:"reservation-result__ticket-content",children:[Object(p.jsx)("div",{className:"reservation-result__session-information",children:Object(p.jsx)(iA,{sessionId:t})}),e.map((function(A){return A.map((function(A){if(A.chosen)return Object(p.jsxs)("h3",{children:["Seat: #",A.seat_details.number," Row: #",A.seat_details.rowNumber," .....  ",A.seat_details.price,"$"]})}))})),Object(p.jsx)("div",{className:"reservation-result__total-price",children:Object(p.jsx)(rA,{seats:e?e.flat().filter((function(A){return!0===A.chosen})):null})})]})})]})}t(45);function lA(){return Object(p.jsx)("div",{className:"seat-loader"})}function uA(A){var e=A.rowsOfSeats,t=A.seatHandleClick,n=A.shouldDisplayContent,a=function(A){var e="row__seat seat";return"Love Seat"===A.seat_details.seatType&&(e="row__seat seat-LoveSeat"),A.seat_details.isReserved?e+=" seat_reserved":!0===A.seat_details.isSelected&&!1===A.chosen?e+=" seat_already-selected":!1===A.chosen?e:e+" seat_selected"};return Object(p.jsxs)("div",{children:[n&&Object(p.jsx)("h2",{className:"cinemahall__screen",children:"Screen"}),Object(p.jsx)("div",{className:"cinemahall__rows-container",children:e&&e.map((function(A,e){return Object(p.jsxs)("div",{className:"row",children:[Object(p.jsx)("div",{children:e+1}),A.map((function(A,e){return Object(p.jsx)("div",{className:a(A),onClick:function(){return t(A)},children:A.loading?Object(p.jsx)(lA,{}):Object(p.jsx)("h4",{children:A.seat_details.number})},e)}))]},e)}))})]})}t(14);function dA(A){var e=A.sessionId,t=A.changeSeatTypesContentReady,a=A.shouldDisplayContent,c=Object(n.useState)([]),s=Object(u.a)(c,2),i=s[0],r=s[1];Object(n.useEffect)((function(){function A(){return(A=Object(l.a)(o.a.mark((function A(){return o.a.wrap((function(A){for(;;)switch(A.prev=A.next){case 0:return A.prev=0,A.next=3,fetch("https://cinematicketbooking.herokuapp.com/sessionsprices/?movieSessionId=".concat(e));case 3:d(A.sent,(function(A){alert(A)}),(function(A){r(A),t(!0)})),A.next=10;break;case 7:A.prev=7,A.t0=A.catch(0),alert("Oops, something went wrong");case 10:case"end":return A.stop()}}),A,null,[[0,7]])})))).apply(this,arguments)}!function(){A.apply(this,arguments)}()}),[]);var j=function(A){var e="seat";return"Love Seat"===A.seatType&&(e="seat-LoveSeat"),e};return Object(p.jsxs)("div",{className:"legend",children:[a&&Object(p.jsx)("h2",{className:"legend__title",children:"Seat Types"}),Object(p.jsxs)("div",{className:"legend__seatTypes-container",children:[i.map((function(A){return Object(p.jsxs)("div",{className:"legend__seatType seatType",children:[Object(p.jsx)("div",{className:"seatType__example",children:Object(p.jsx)("div",{className:j(A)})}),Object(p.jsxs)("div",{className:"seatType__information",children:[Object(p.jsxs)("div",{className:"seatType__title",children:[Object(p.jsx)("h3",{children:A.seatType})," ",Object(p.jsxs)("h3",{children:[A.price,"$"]})]}),Object(p.jsx)("div",{className:"seatType__description",children:A.description})]})]},A._id)})),Object(p.jsxs)("div",{className:"legend__seat-navigation",children:[Object(p.jsxs)("div",{className:"legend__seat-navigation-example",children:[Object(p.jsx)("div",{className:"seat seat_selected"}),Object(p.jsx)("span",{children:"seat is selected"})]}),Object(p.jsxs)("div",{className:"legend__seat-navigation-example",children:[Object(p.jsx)("div",{className:"seat seat_already-selected"}),Object(p.jsx)("span",{children:"this seat is already selected by another user(try again in 5 min)"})]}),Object(p.jsxs)("div",{className:"legend__seat-navigation-example",children:[Object(p.jsx)("div",{className:"seat seat_reserved"}),Object(p.jsx)("span",{children:"seat is reserved"})]})]})]})]})}function jA(A){var e=A.makeAllSelectedSeatsFalse,t=Object(n.useState)(0),a=Object(u.a)(t,2),c=a[0],s=a[1],i=Object(n.useState)(!0),r=Object(u.a)(i,2),o=r[0],l=r[1];Object(n.useEffect)((function(){var A;return o?(s(300),A=setInterval((function(){s((function(A){return A-1}))}),1e3)):(clearInterval(A),e(),alert("Sorry, time to choose a seat has expired! Please, try again."),l(!0)),function(){return clearInterval(A)}}),[o]),Object(n.useEffect)((function(){c<0&&o&&(l(!1),s(0))}),[c,o]);var d=String(c%60).padStart(2,0),j=String(Math.floor(c/60)).padStart(2,0);return Object(p.jsx)("div",{className:"App",children:Object(p.jsxs)("h3",{children:["Time to choose a seat: ",j,":",d]})})}function mA(A){var e=A.rowsOfSeats,t=A.seatHandleClick,n=A.reservationHandleClick,a=A.sessionId,c=A.shouldDisplayContent,s=A.changeSessionContentReady,i=A.changeSeatTypesContentReady,r=A.makeAllSelectedSeatsFalse;return Object(p.jsxs)("div",{className:"choose-seats__container",children:[Object(p.jsx)(P,{showSearchForm:!1}),Object(p.jsx)("div",{className:"choose-seats__header",children:Object(p.jsx)(iA,{sessionId:a,changeSessionContentReady:s})}),Object(p.jsx)(jA,{makeAllSelectedSeatsFalse:r}),Object(p.jsxs)("div",{className:"choose-seats__main main",children:[Object(p.jsxs)("div",{className:"choose-seats__cinemaHall",children:[Object(p.jsx)(uA,{rowsOfSeats:e,seatHandleClick:t,shouldDisplayContent:c}),c&&Object(p.jsx)(rA,{seats:e?e.flat().filter((function(A){return!0===A.chosen})):null}),c&&Object(p.jsx)("button",{className:"choose-seats__button",type:"submit",value:"Reserve",onClick:function(){var A=e.flat().filter((function(A){return!0===A.chosen}));localStorage.getItem(wA)||sessionStorage.getItem(wA)?0===A.length?alert("Please, choose seats!"):n():alert(" Please, Log in!")},children:"Reserve"})]}),Object(p.jsx)("div",{className:"choose-seats__legend",children:Object(p.jsx)(dA,{sessionId:a,changeSeatTypesContentReady:i,shouldDisplayContent:c})})]})]})}t(46);function hA(){return Object(p.jsx)("div",{className:"reservation-page-modal",children:Object(p.jsx)("div",{className:"reservation-page-modal_loader"})})}t(47);function bA(){var A=Object(m.g)().id,e=Object(n.useContext)(fA).user,t=Object(n.useState)({availableseats:!1,session:!1,seattypes:!1}),a=Object(u.a)(t,2),c=a[0],s=a[1],i=Object(n.useState)(null),r=Object(u.a)(i,2),j=r[0],h=r[1],b=Object(n.useState)(!1),O=Object(u.a)(b,2),g=O[0],f=O[1],v=c.availableseats&&c.seattypes&&c.session,x=Object(n.useRef)(null),C=Object(n.useRef)();Object(n.useEffect)((function(){C.current=j}),[j]);var S=function(A){return{seat_details:A,chosen:!1,loading:!1}},w=function(A){return{session_id:A.seat_details.session_id,seat_id:A.seat_details.seat_id}};function k(A){try{var e=JSON.parse(A);h((function(A){var t=null;return t=null==A?function(A){for(var e=A.map(S),t=A.reduce((function(A,e){return A.rowNumber>e.rowNumber?A:e})).rowNumber,n=[],a=0;a<t;a++)n.push([]);for(var c=0;c<e.length;c++)n[e[c].seat_details.rowNumber-1].push(e[c]);return B(!0),n}(e):function(A,e){for(var t=Object(aA.a)(A),n=function(A){for(var n=function(n){var a=e.find((function(e){return e._id===t[A][n].seat_details._id}));a&&(!a.isSelected&&t[A][n].chosen&&"makeAllSelectedSeatsFalse"===e[e.length-1]&&(t[A][n].chosen=!1),t[A][n].seat_details=a)},a=0;a<t[A].length;a++)n(a)},a=0;a<t.length;a++)n(a);return t}(A,e),t}))}catch(t){alert("Oops, something went wrong")}}Object(n.useEffect)((function(){return window.addEventListener("unload",(function(){N()})),x.current=new WebSocket("wss://cinematicketbooking.herokuapp.com/?movieSessionId=".concat(A)),x.current.onmessage=function(A){if("ping"===JSON.parse(A.data).event){x.current.send(JSON.stringify({event:"pong",beat:1}))}else k(A.data)},x.current.onerror=function(A){alert("WebSocket error")},function(){return N(),x.current.close()}}),[]);var B=function(A){s((function(e){return Object(nA.a)(Object(nA.a)({},e),{},{availableseats:A})}))},N=function(){var A={event:"makeAllSelectedSeatsFalse",seat:C.current.flat().filter((function(A){return!0===A.chosen})).map((function(A){return{session_id:A.seat_details.session_id,seat_id:A.seat_details.seat_id}}))};x.current.send(JSON.stringify(A))};return Object(p.jsxs)("div",{className:"reservation-page__container",children:[v?null:Object(p.jsx)(hA,{}),Object(p.jsx)("div",{children:g?Object(p.jsx)(oA,{rowsOfSeats:j,sessionId:A,hiddenReservationResultWindow:function(){N(),f(!1)}}):Object(p.jsx)(mA,{rowsOfSeats:j,seatHandleClick:function(A){!0===A.chosen?function(A){var e=Object(aA.a)(j);e[A.seat_details.rowNumber-1][A.seat_details.number-1].chosen=!1,h(e);var t={event:"makeSeatSelectedFalse",seat:A.seat_details};x.current.send(JSON.stringify(t))}(A):function(A){var e={event:"makeSeatSelectedTrue",seat:A.seat_details};x.current.send(JSON.stringify(e));var t=Object(aA.a)(j);t[A.seat_details.rowNumber-1][A.seat_details.number-1].chosen=!0,h(t)}(A)},reservationHandleClick:function(){var t=j.flat().filter((function(A){return!0===A.chosen})).map((function(A){return{session_id:A.seat_details.session_id,availableSeat_id:A.seat_details._id,availableSeat_row:A.seat_details.rowNumber,availableSeat_number:A.seat_details.number,availableSeat_price:A.seat_details.price}})),n={userId:e._id,sessionId:A,seatsArray:t};function a(){return(a=Object(l.a)(o.a.mark((function A(){return o.a.wrap((function(A){for(;;)switch(A.prev=A.next){case 0:return A.prev=0,A.next=3,fetch("https://cinematicketbooking.herokuapp.com/reservation",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});case 3:d(A.sent,(function(A){alert(A)}),(function(){var A={event:"reserveSeat",seat:j.flat().filter((function(A){return!0===A.chosen})).map(w)};x.current.send(JSON.stringify(A)),f(!0)})),A.next=10;break;case 7:A.prev=7,A.t0=A.catch(0),alert("Oops, something went wrong");case 10:case"end":return A.stop()}}),A,null,[[0,7]])})))).apply(this,arguments)}!function(){a.apply(this,arguments)}()},sessionId:A,shouldDisplayContent:v,changeSessionContentReady:function(A){s((function(e){return Object(nA.a)(Object(nA.a)({},e),{},{session:A})}))},changeSeatTypesContentReady:function(A){s((function(e){return Object(nA.a)(Object(nA.a)({},e),{},{seattypes:A})}))},makeAllSelectedSeatsFalse:N})})]})}var OA=t.p+"static/media/location.c937a8cc.png",pA=t.p+"static/media/timetable.c91df6ab.png";t(48);function gA(){var A=Object(n.useContext)(fA).user,e=Object(n.useState)([]),t=Object(u.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(!1),i=Object(u.a)(s,2),r=i[0],j=i[1],m="en-US",h={month:"numeric",day:"numeric",year:"numeric",hour:"numeric",minute:"numeric",hour12:!1,timezone:vA},b={month:"long",day:"numeric",weekday:"long",hour:"numeric",minute:"numeric",hour12:!1};return Object(n.useEffect)((function(){function A(){return(A=Object(l.a)(o.a.mark((function A(){var e;return o.a.wrap((function(A){for(;;)switch(A.prev=A.next){case 0:if(A.prev=0,!(e=localStorage.getItem(wA)||sessionStorage.getItem(wA))){A.next=9;break}return A.next=5,fetch("https://cinematicketbooking.herokuapp.com/reservation",{headers:{Authorization:"Bearer ".concat(e)}});case 5:d(A.sent,(function(A){alert(A)}),(function(A){c(A),j(!0)})),A.next=10;break;case 9:c([]);case 10:A.next=15;break;case 12:A.prev=12,A.t0=A.catch(0),alert("Oops, something went wrong");case 15:case"end":return A.stop()}}),A,null,[[0,12]])})))).apply(this,arguments)}!function(){A.apply(this,arguments)}()}),[A]),Object(p.jsxs)("div",{children:[r?null:Object(p.jsx)(hA,{}),Object(p.jsx)(P,{showSearchForm:!1}),0!==a.length?Object(p.jsxs)("div",{children:[" ",Object(p.jsx)("h2",{children:"Reservations List"}),a.map((function(A){var e=0;return A.tickets.forEach((function(A){e+=A.availableSeat_price})),Object(p.jsxs)("div",{className:"reservations__content-container",children:[Object(p.jsx)("h2",{className:"reservations__movie-name",children:A.movieName}),Object(p.jsxs)("div",{className:"reservations__place",children:[Object(p.jsx)("img",{src:OA,alt:"location"}),Object(p.jsx)("h3",{children:A.cinemaName})]}),Object(p.jsxs)("div",{className:"reservations__date",children:[Object(p.jsx)("img",{src:pA,alt:"timetable"}),Object(p.jsx)("h3",{children:new Date(A.date).toLocaleDateString(m,b)})]}),A.tickets.map((function(A){return Object(p.jsxs)("h4",{children:["Seat: ",A.availableSeat_number," Row: ",A.availableSeat_row," .....  ",A.availableSeat_price,"$"]},A._id)})),Object(p.jsxs)("h3",{children:["Total Price: ",e,"$"]}),Object(p.jsxs)("h3",{className:"reservations__information",children:["Reservation ",new Date(A.createdAt).toLocaleDateString(m,h)]})]},A._id)}))]}):Object(p.jsx)("h2",{children:"Sorry, we didn't find information about your reservations"})]})}t(49);var fA=a.a.createContext(),vA=Intl.DateTimeFormat().resolvedOptions().timeZone,xA="Minsk",CA="All cinemas",SA="Whole calendar",wA="AUTH_TOKEN";var kA=function(){var A=Object(n.useState)(null),e=Object(u.a)(A,2),t=e[0],a=e[1],c={user:t,setUserState:a};return Object(n.useEffect)((function(){function A(){return(A=Object(l.a)(o.a.mark((function A(){var e;return o.a.wrap((function(A){for(;;)switch(A.prev=A.next){case 0:if(A.prev=0,!(e=localStorage.getItem(wA)||sessionStorage.getItem(wA))){A.next=7;break}return A.next=5,fetch("https://cinematicketbooking.herokuapp.com/auth/user",{headers:{Authorization:"Bearer ".concat(e)}});case 5:d(A.sent,(function(A){alert(A)}),(function(A){a(A)}));case 7:A.next=12;break;case 9:A.prev=9,A.t0=A.catch(0),alert("Oops, something went wrong");case 12:case"end":return A.stop()}}),A,null,[[0,9]])})))).apply(this,arguments)}!function(){A.apply(this,arguments)}()}),[]),Object(p.jsx)(fA.Provider,{value:c,children:Object(p.jsx)("div",{className:"App",children:Object(p.jsxs)(m.c,{children:[Object(p.jsx)(m.a,{path:"/",element:Object(p.jsx)(M,{}),exact:!0}),Object(p.jsx)(m.a,{path:"/movie/:id",element:Object(p.jsx)(tA,{})}),Object(p.jsx)(m.a,{path:"/reservation/:id",element:Object(p.jsx)(bA,{})}),Object(p.jsx)(m.a,{path:"/personalaccount",element:Object(p.jsx)(gA,{})})]})})})},BA=function(A){A&&A instanceof Function&&t.e(3).then(t.bind(null,52)).then((function(e){var t=e.getCLS,n=e.getFID,a=e.getFCP,c=e.getLCP,s=e.getTTFB;t(A),n(A),a(A),c(A),s(A)}))};s.a.render(Object(p.jsx)(a.a.StrictMode,{children:Object(p.jsx)(i.a,{basename:"/Cinema-Ticket-Reservation-System__Frontend/",children:Object(p.jsx)(kA,{})})}),document.getElementById("root")),BA()}],[[50,1,2]]]);
//# sourceMappingURL=main.c46c7129.chunk.js.map